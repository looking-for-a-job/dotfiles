#!/usr/bin/env python
# -*- coding: utf-8 -*-
import hwmonitor
import my_tasks
from task.models import Task


class Ventilation(my_tasks.Now):
    name = "Проветривание"
    min = 3
    max = 15

    @property
    def disabled(self):
        if hwmonitor.sensor("air") <= 18:  # слишком холодно для провертивания :(
            return True
        return False

    def todo(self):
        return not self.elapsed or self.elapsed >= 2*60*60


if __name__ == "__main__":
    print(Task.objects.get(class_name=Ventilation.__name__))
